---
layout: post
title: 解释性语言的几个处理方式
date: 2019-8-22 12:11:06 +0800
tag: 解释性语言
---

* content
{:toc}

更新一下解释性语言的多类型变量处理的方法：

在第一次预解释的时候根据变量类型把运算符替换掉，如

```plain
int a b c
= c + a b
```

变成

```plain
int a b c
=_int_int c +_int_int a b
```

然后解释的时候就可以直接把所有变量用`longint`存了（但是`pointer`可能会跑的快一点）

如果有数组、字符串等，存头地址，注意同时记录长度（或在最后塞上`#0`等）

定义`record`的时候记录第一个变量的头指针，取的时候算偏移量.